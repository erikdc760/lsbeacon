// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.
import { APIResource } from "../core/resource.mjs";
import { TelnyxWebhook, TelnyxWebhookVerificationError } from "../webhooks.mjs";
export class Webhooks extends APIResource {
    unwrap(body, options) {
        if (options?.headers) {
            const key = options.key || this._client.publicKey;
            if (!key) {
                throw new TelnyxWebhookVerificationError('No public key provided for webhook verification');
            }
            // Use Telnyx-specific webhook verification following standardwebhooks pattern
            const webhook = new TelnyxWebhook(key);
            webhook.verify(body, options.headers);
        }
        return JSON.parse(body);
    }
}
//# sourceMappingURL=webhooks.mjs.map
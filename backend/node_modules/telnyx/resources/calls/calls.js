"use strict";
// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.
Object.defineProperty(exports, "__esModule", { value: true });
exports.Calls = void 0;
const tslib_1 = require("../../internal/tslib.js");
const resource_1 = require("../../core/resource.js");
const ActionsAPI = tslib_1.__importStar(require("./actions.js"));
const actions_1 = require("./actions.js");
const path_1 = require("../../internal/utils/path.js");
class Calls extends resource_1.APIResource {
    constructor() {
        super(...arguments);
        this.actions = new ActionsAPI.Actions(this._client);
    }
    /**
     * Dial a number or SIP URI from a given connection. A successful response will
     * include a `call_leg_id` which can be used to correlate the command with
     * subsequent webhooks.
     *
     * **Expected Webhooks:**
     *
     * - `call.initiated`
     * - `call.answered` or `call.hangup`
     * - `call.machine.detection.ended` if `answering_machine_detection` was requested
     * - `call.machine.greeting.ended` if `answering_machine_detection` was requested
     *   to detect the end of machine greeting
     * - `call.machine.premium.detection.ended` if
     *   `answering_machine_detection=premium` was requested
     * - `call.machine.premium.greeting.ended` if `answering_machine_detection=premium`
     *   was requested and a beep was detected
     * - `streaming.started`, `streaming.stopped` or `streaming.failed` if `stream_url`
     *   was set
     *
     * When the `record` parameter is set to `record-from-answer`, the response will
     * include a `recording_id` field.
     *
     * @example
     * ```ts
     * const response = await client.calls.dial({
     *   connection_id: '7267xxxxxxxxxxxxxx',
     *   from: '+18005550101',
     *   to: '+18005550100 or sip:username@sip.telnyx.com',
     * });
     * ```
     */
    dial(body, options) {
        return this._client.post('/calls', { body, ...options });
    }
    /**
     * Returns the status of a call (data is available 10 minutes after call ended).
     *
     * @example
     * ```ts
     * const response = await client.calls.retrieveStatus(
     *   'call_control_id',
     * );
     * ```
     */
    retrieveStatus(callControlID, options) {
        return this._client.get((0, path_1.path) `/calls/${callControlID}`, options);
    }
}
exports.Calls = Calls;
Calls.Actions = actions_1.Actions;
//# sourceMappingURL=calls.js.map